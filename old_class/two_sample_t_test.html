<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>PSY 3307</title>
    <meta charset="utf-8" />
    <meta name="author" content="Jonathan A. Pedroza, MS, MA" />
    <meta name="date" content="2021-09-30" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# PSY 3307
## Two Sample t-test
### Jonathan A. Pedroza, MS, MA
### Cal Poly Pomona
### 2021-09-30

---




# Agenda

- Review terms
  - one-sample t test, t-distribution, df, confidence intervals
- Understanding a two-sample study
- Between &amp; Within Designs
- Independent-samples t-test
- Performing an independent samples t-test
- Effect Size

---

# Review

- One-sample t-test

- t-distribution

- df

- confidence intervals

---

# Between &amp; Within Designs

- Experiments can be broken down into two different types of designs

- **Between-subject/group** design is when you are interested in comparing two (for now) or more groups on an outcome variable

- **Within-subject/group** design is when you have the same participants but you test them twice (either with two different variables or two different time points)

---

# Two tests we are talking about

- **independent samples t-test** is when there are two groups of participants are separated into two different conditions to compare based on that condition
	- comparing the physical activity levels (DV) of sexes (Condition 1 = Male, Condition 2 = Female)
	- parametric test

- **paired-samples t-test** is when there are two experimental conditions that the same participants take part in
	- interested in two variables in the same sample of participants
	- can be the same variable and two different time points
	- bmi levels before an experiment and after the experiment for all participants
	- parametric test

---

# Independent Samples t-test

- JP note: probably the most often used t-test

- because it is a parametric test, it has assumptions

- Assumptions are
  - DV is normally distributed interval/ratio scores
  - populations have homogeneous variance
  - not a true assumption but something important to note is that your groups should be equal in `n` (condition) size
  
---

# Homogeneity of Variance

- **homogeneity of variance** is when the variances of the populations represented in a study have "equal" variances

- in order to test that the variances are equal, we can look at it through visuals
  - however, a better option is to use the Levene's test

---

# Independent samples t-test

- hypotheses are now focused on the differences between the two groups/conditions

`$$H0: \mu_{1} - \mu_{2} = 0$$`
H0: There will be no difference in DV scores between group 1 and group 2.
  - both samples/groups represent the population

`$$H1: \mu_{1} - \mu_{2} \neq 0$$`

H1: There will be differences in DV scores between group 1 and group 2.
  - the groups represent a different population or don't represent the current population

---

# t-distribution for independent samples t-test

- we are interested in the difference between our group/sample means

- we have two samples from one raw score population 

- **sampling distribution of differences between means** show all differences between two means that occur when random samples are drawn from a population of scores

- the mean of the sampling distribution is zero because both sample means will equal the population mean of the raw score population

---

# Independent samples t-test

- determines the probability of obtaining our difference between our means when H0 is true

- Term changes
  - N is now the full sample size
  - n is the size of each group/sample
    * so for each group/sample, we have an n
    
---

# Performing the indepdendent samples t-test

`$$s^2_{x} = \frac{\Sigma X^2 - \frac{(\Sigma X)^2}{N}}{N - 1}$$`


```r
male_scores = c(4, 6, 2, 3, 5, 1, 2, 4, 3, 5)
female_scores = c(4, 6, 9, 6, 5, 8, 2, 5, 3, 7)

male_scores
```

```
##  [1] 4 6 2 3 5 1 2 4 3 5
```

```r
female_scores
```

```
##  [1] 4 6 9 6 5 8 2 5 3 7
```

---

First we'll calculate the variance


```r
# male sum
4+6+2+3+5+1+2+4+3+5
```

```
## [1] 35
```

```r
# sum is 35
```

`$$\;s^2_{x_{1}} = \frac{\Sigma X^2 - \frac{(35)^2}{N}}{N - 1}$$`

---


```r
# female sum
4+6+9+6+5+8+2+5+3+7
```

```
## [1] 55
```

```r
# sum 55
```

`$$\;s^2_{x_{2}} = \frac{\Sigma X^2 - \frac{(55)^2}{N}}{N - 1}$$`

---


```r
35/10
```

```
## [1] 3.5
```

```r
# male mean 3.5
```



```r
55/10
```

```
## [1] 5.5
```

```r
# female mean 5.5
```

---


```r
# male sum of squared Xs
4^2+6^2+2^2+3^2+5^2+1^2+2^2+4^2+3^2+5^2
```

```
## [1] 145
```

```r
# 145 
```

`$$\;s^2_{x_{1}} = \frac{145 - \frac{(35)^2}{10}}{10 - 1}$$`

---


```r
# female sum of squared Xs
4^2+6^2+9^2+6^2+5^2+8^2+2^2+5^2+3^2+7^2
```

```
## [1] 345
```

```r
# female 345
```

`$$\;s^2_{x_{2}} = \frac{345 - \frac{(55)^2}{10}}{10 - 1}$$`

---


```r
# male sum of X squared and divided by N
35^2
```

```
## [1] 1225
```

```r
1225/10
```

```
## [1] 122.5
```

```r
# 122.5
```

`$$\;s^2_{x_{1}} = \frac{145 - \frac{1225}{10}}{10 - 1}$$`

---


```r
# female sum of X squared and divided by N
55^2
```

```
## [1] 3025
```

```r
3025/10
```

```
## [1] 302.5
```

```r
# 302.5
```

`$$\;s^2_{x_{2}} = \frac{345 - \frac{302.5}{10}}{10 - 1}$$`

---


```r
# male variance calculations
(145 - 122.5)/(10-1)
```

```
## [1] 2.5
```

```r
# variance is 2.5
```

`$$\;s^2_{x_{1}} = \frac{145 - 122.5}{10 - 1}$$`

---


```r
# female variance calculations
(345 - 302.5)/(10 - 1)
```

```
## [1] 4.722222
```

```r
# variance is 4.72
```

`$$\;s^2_{x_{2}} = \frac{345 - 302.5}{10 - 1}$$`
---


```r
sd(male_scores)^2
```

```
## [1] 2.5
```

```r
sd(female_scores)^2
```

```
## [1] 4.722222
```

---

# New Terms

- **pooled variance** is the weighted average variance of the groups'/samples' variances in a independent samples t-test

- **standard error of the difference** is the estimated standard deviation of the sampling distribution of differences between the means

---

Now we can calculate the pooled variance
n1 = 10
n2 = 10
variance of group 1 = 2.5
variance of group 2 = 4.72

`$$S^2_{pool} = \frac{(n_{1} - 1)S^2_{1} + (n_{2} - 1)S^2_{2}}{(n_{1} - 1) + (n_{2} - 1)}$$`

---


```r
# start with the numerator
(10 - 1)*2.5 + (10 - 1)*4.72
```

```
## [1] 64.98
```

```r
# numerator is 64.98

# denominator
(10 - 1) + (10 - 1)
```

```
## [1] 18
```

```r
# denominator is 18
```

`$$S^2_{pool} = \frac{(10 - 1)2.5 + (10 - 1)4.72}{(10 - 1) + (10 - 1)}$$`

---


```r
9*2.5 + 9*4.72
```

```
## [1] 64.98
```

```r
# 64.98

9+9
```

```
## [1] 18
```

```r
# 18
```

`$$S^2_{pool} = \frac{(9)2.5 + (9)4.72}{9 + 9}$$`

---


```r
64.98/18
```

```
## [1] 3.61
```

```r
# pooled variance is 3.61
```

`$$S^2_{pool} = \frac{64.98}{18}$$`

---

Let's calculate for the standard error of the difference

`$$S_{\overline{X_{1}} - \overline{X_{2}}} = \sqrt{(S^2_{pool})(\frac{1}{n_{1}} + \frac{1}{n_{2}})}$$`

---


```r
1/10
```

```
## [1] 0.1
```

```r
3.61*(.1 + .1)
```

```
## [1] 0.722
```

```r
sqrt(.72)
```

```
## [1] 0.8485281
```

`$$S_{\overline{X_{1}} - \overline{X_{2}}} = \sqrt{(3.61)(\frac{1}{10} + \frac{1}{10})}$$`

`$$S_{\overline{X_{1}} - \overline{X_{2}}} = \sqrt{(3.61)(.1 + .1)}$$`
---


```r
3.61*(.1+.1)
```

```
## [1] 0.722
```

```r
# se is .72
```

`$$S_{\overline{X_{1}} - \overline{X_{2}}} = \sqrt{.72}$$`

---


```r
sqrt(.72)
```

```
## [1] 0.8485281
```

```r
# se of the difference is .85
```
 
---

Now we can calculate the independent samples t-test obtained value

**Note** the population mean 1 minus the population mean 2 is what is specified in the null hypothesis, so it will be zero


```r
((3.5 - 5.5) - 0)/.85
```

```
## [1] -2.352941
```

```r
# t obtained value is -2.35
```

`$$t_{obt} = \frac{(3.5 - 5.5) - 0}{.85}$$`

---

Let's now calculate the degrees of freedom

`$$df = (n_{1} - 1) + (n_{2} - 1)$$`
---


```r
(10 - 1) + (10 - 1)
```

```
## [1] 18
```

```r
# df is 18

# t critical is +-2.101
```

`$$df = (10 - 1) + (10 - 1)$$`

---

So we get a value of -2.35 and the t-critical value is -2.101

Is there a statistically significant difference between the two groups?

--

-2.35 &gt; -2.101

---

Now let's get confidence intervals


```r
# group 1 mean = 3.5
# group 2 mean = 5.5
# t critical value is 2.101
# n1 = 10
# n2 = 10
# variance of group 1 = 2.5
# variance of group 2 = 4.72

# lower
(3.5 - 5.5) - 2.101 * sqrt((2.5/10) + (4.72/10))
```

```
## [1] -3.785232
```

```r
# -3.79

# upper
(3.5 - 5.5) + 2.101 * sqrt((2.5/10) + (4.72/10))
```

```
## [1] -0.214768
```

```r
# -.21
```

---

# Effect Sizes

- Reminder: r effect sizes are .1 = small, .3 = medium, .5 = large

- Reminder: cohen's d effect sizes are .2 = small, .5 = medium, .8 = large

- these are both measures of the strength of a relationship
  - better than simply using p value alone

- cohen's d can never be negative so the value you get is the absolute value (.e.g., its always positive)
  
---

`$$\hat{d} = \frac{(\overline{X_{1}} - \overline{X_{2}})}{S_{2}}$$`

---


```r
(3.5 - 5.5)/sqrt(4.72)
```

```
## [1] -0.9205746
```

```r
# each step below
3.5 - 5.5
```

```
## [1] -2
```

```r
-2/sqrt(4.72)
```

```
## [1] -0.9205746
```

```r
# cohen's d is .92 or the number of standard deviations between the means
```

`$$\hat{d} = \frac{(3.5 - 5.5)}{\sqrt{4.72}}$$`

---


```r
(-2.78)^2
```

```
## [1] 7.7284
```

```r
(-2.78)^2 + 18
```

```
## [1] 25.7284
```

```r
sqrt(7.73/25.73)
```

```
## [1] 0.5481127
```

```r
# r value of .55
```

---

# Steps for independent samples t-test

1. Get the means of both groups/samples

2. Get the variances of both groups/samples

3. Get the group/sample sizes (n)

4. Get the pooled variance by getting the groups'/samples' variances averaged

5. Get the standard error of the differences

6. Calculate the t-obtained value

7. Get the degrees of freedom

8. Calculate the confidence intervals

9. Get the effect size

---

# Independent samples t-test Example


```
## 
##  Descriptive statistics by group 
## group: F
##    vars   n  mean   sd median trimmed  mad min max range skew kurtosis   se
## X1    1 200 54.52 4.83     54   54.52 4.45  42  69    27 0.07     0.02 0.34
## ------------------------------------------------------------ 
## group: M
##    vars   n  mean   sd median trimmed  mad min max range skew kurtosis   se
## X1    1 200 64.87 5.44   64.5   64.71 5.19  48  81    33 0.25     0.28 0.38
```

---

![](two_sample_t_test_files/figure-html/unnamed-chunk-25-1.png)&lt;!-- --&gt;

---


```
## Levene's Test for Homogeneity of Variance (center = median)
##        Df F value Pr(&gt;F)
## group   1   1.972  0.161
##       398
```

```
## 
## 	Two Sample t-test
## 
## data:  weight by sex
## t = -20.116, df = 398, p-value &lt; 0.00000000000000022
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -11.361529  -9.338471
## sample estimates:
## mean in group F mean in group M 
##           54.52           64.87
```

---

# Real life independent samples t-test



---


```
## # A tibble: 2 x 2
##   gender games
##   &lt;fct&gt;  &lt;dbl&gt;
## 1 1       4.23
## 2 2       3.30
```

---

![](two_sample_t_test_files/figure-html/unnamed-chunk-29-1.png)&lt;!-- --&gt;

---


```
## Picking joint bandwidth of 0.763
```

![](two_sample_t_test_files/figure-html/unnamed-chunk-30-1.png)&lt;!-- --&gt;

---


```
## Levene's Test for Homogeneity of Variance (center = median)
##        Df F value Pr(&gt;F)
## group   1  1.3319 0.2492
##       370
```

```
## 
## 	Two Sample t-test
## 
## data:  games by gender
## t = 3.5171, df = 370, p-value = 0.0004906
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  0.4066502 1.4379978
## sample estimates:
## mean in group 1 mean in group 2 
##        4.227011        3.304688
```

---


```
##    vars   n mean   sd median trimmed  mad min max range skew kurtosis   se
## X1    1 372 3.59 2.38      3    3.34 2.97   1  10     9 0.69    -0.52 0.12
```

---

# Practice Time


```r
set.seed(093021)

mistakes_made_tutor = rnorm(10, mean = 1.5, sd = 1.4)
mistakes_made_control = rnorm(8, mean = 4.1, sd = 1)

mistakes_made_tutor
```

```
##  [1] 3.0495964 0.7931460 2.1999939 0.4106114 1.3852964 2.2035563 1.8161635
##  [8] 2.4894226 3.1436843 1.0698578
```

```r
mistakes_made_control
```

```
## [1] 5.347698 3.962054 5.072715 3.985207 4.945898 2.984944 5.004625 5.405361
```

---


```r
set.seed(093021)

translating_native_speaker = rnorm(9, mean = 20, sd = 4.7)
translating_non_native = rnorm(14, mean = 10, sd = .99)

translating_native_speaker
```

```
## [1] 25.20222 17.62699 22.34998 16.34277 19.61492 22.36194 21.06141 23.32163
## [9] 25.51808
```

```r
translating_non_native
```

```
##  [1]  9.695828 11.235221  9.863433 10.962988  9.886355 10.837439  8.896095
##  [8] 10.895579 11.292308  9.102475 12.603552  9.039360 10.388593  9.487347
```

---


```r
set.seed(093021)

first_gen_bmi = rnorm(6, mean = 22, sd = 2.2)
second_gen_bmi = rnorm(9, mean = 28, sd = 5)

first_gen_bmi
```

```
## [1] 24.43508 20.88923 23.09999 20.28810 21.81975 23.10559
```

```r
second_gen_bmi
```

```
## [1] 29.12916 31.53365 33.87030 26.46378 34.23849 27.31027 32.86358 27.42604
## [9] 32.22949
```
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
